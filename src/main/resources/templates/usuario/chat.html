<script th:inline="javascript">

	function mandarMensaje(obj) {
		var parametros = {
				mensaje: document.getElementsByName("mensajeador")[0].value,
				idDestinatario: /*[[${usuarioChat.id}]]*/"",
		}
		
		var divMensaje = document.createElement("div");
		divMensaje.className = "mensaje float-right";
		divMensaje.innerHTML = document.getElementsByName("mensajeador")[0].value;
		document.getElementsByName("mensajeador")[0].value = "";
		var divRowMensaje = document.createElement("div");
		divRowMensaje.className = "row";
		divRowMensaje.appendChild(divMensaje);
		document.getElementsByClassName("mensaje")[document.getElementsByClassName("mensaje").length-1].parentElement.after(divRowMensaje);
		
		$(document).ready(function() {
			$.ajax({
				data: parametros,
				url : '/mandarMensaje',
				type : 'post',
			});
		});
	}

</script>
<div class="container d-flex justify-content-center">
	<div class="row d-flex justify-content-center">
		<div class="col chatbox">
			<div th:each="mensaje: ${mensajes}" th:attr="data-id=${mensaje.id}" class="row">
				<div th:if="${mensaje.remitente.id} == ${usuarioChat.id}"
					th:text="${mensaje.texto}" class="mensaje float-left"></div>
				<div th:unless="${mensaje.remitente.id} == ${usuarioChat.id}"
					th:text="${mensaje.texto}" class="mensaje float-right"></div>
			</div>
			<div class="row d-flex justify-content-center">
				<div class="col">
					<input type="text" name="mensajeador"
						placeholder="Escribe aqui tu mensaje...">
					<button class="btn btn-info" onclick="mandarMensaje(this)">
						<i class="bi bi-arrow-left-circle-fill"></i>
					</button>
				</div>
			</div>
		</div>
	</div>

</div>