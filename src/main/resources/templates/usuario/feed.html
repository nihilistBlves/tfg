<script>
	//falta que cuando se comente se carguen los comentarios
	function leer(objeto) {

		objeto.parentNode.parentNode.children[1].style.height = "auto";

		objeto.text = "Leer menos";

		objeto.onclick = function () {
			objeto.parentNode.parentNode.children[1].style.height = "200px";
			objeto.text = "Leer m�s";
			objeto.onclick = function () {leer(objeto)};

		};
	}


	function wave(w) {

		console.log(w.nextSibling.nextSibling.firstChild);
		if (w.checked == true) {
			w.nextSibling.nextSibling.firstChild.src = "./img/sub.png";
			var parametros = {
				"wave": w.value
			}
			$(document).ready(function () {
				$.ajax({
					data: parametros, //datos que se envian a traves de ajax
					url: '/crearWave', //archivo que recibe la peticion
					type: 'post', //método de envio


				});
			});

		} else {

			w.nextSibling.nextSibling.firstChild.src = "./img/unsub.png";
			var parametros = {
				"wave": w.value,

			}
			$(document).ready(function () {
				$.ajax({
					data: parametros, //datos que se envian a traves de ajax
					url: '/borrarWave', //archivo que recibe la peticion
					type: 'post', //método de envio

				});
			});

		}

		


	}
</script>
<div id="centro" class=" justify-content-center align-items-center">



	<!-- 			cargar publicaciones -->
	<div th:each="publicacion: ${publicaciones}">
		<div id="perfiles">
			<div id="borde-perfil" class="d-flex justify-content-center align-items-center">

				<div class="card  d-flex justify-content-center align-items-center">


					<!-- 				img solo desde static -->
					<div th:if="${publicacion.tipoContenido}=='imagen'">
						<img class="card-img" th:src="@{${publicacion.contenido}}">
					</div>

					<!-- 		Para video -->
					<div th:if="${publicacion.tipoContenido}=='video'" class="card-film">
						<video width="auto" height="300px" controls>
							<source th:src="@{${publicacion.contenido}}" type="video/mp4" />
						</video>
					</div>



					<div th:if="${publicacion.tipoContenido}=='audio'" class="card-audio">
						<audio th:src="@{${publicacion.contenido}}" controls type="audio/mpeg">
						</audio>
					</div>


					<div class="col-md-12">
						<div class="card-body">
							<div class="card-tittle">
								<b th:text="${publicacion.duenioPublicacion.loginName}">Nombre</b>
							</div>
							<div class="card-text">
								<p th:id="${publicacion.id}" th:text="${publicacion.descripcion}"></p>
								<p class="text-muted text-right" id="fecha" th:text="${publicacion.fechaPublicacion}">
								</p>
							</div>
							<div class="leer-mas">
								<a class="leer" onclick="leer(this)">Leer m�s</a>
							</div>

							<!--=============================TODO:que al refresacar aparezcan los likes dados======================================-->

							<div class="card-footer text-right">
								<div class="icons">
										<input type="checkbox" th:id="|wave-${publicacion.id}|"
											th:value="${publicacion.id}" style="display: none;" onchange="wave(this)" />
										<label th:for="|wave-${publicacion.id}|"><img src="./img/unsub.png" /></label>
									</div>
								</div>
								<!--===================================================================-->
								<form>
									<div class="form-group"></div>
									<input type="text" class="form-control" placeholder="Comentar" />
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>